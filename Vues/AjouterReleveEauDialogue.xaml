<Window
    x:Class="GestionnaireDeLogement.Vues.AjouterReleveEauDialogue"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="💧 Ajouter un relevé d'eau"
    Width="650"
    Height="650"
    Background="{StaticResource FondSecondaire}"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <!--  ══════════════════════════════════════════════════════════  -->
    <!--  RESSOURCES LOCALES  -->
    <!--  ══════════════════════════════════════════════════════════  -->
    <Window.Resources>
        <!--  Style pour les labels  -->
        <Style x:Key="LabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="15" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="{StaticResource TextePrincipal}" />
            <Setter Property="Margin" Value="0,0,0,8" />
        </Style>

        <!--  Style pour les TextBox  -->
        <Style x:Key="TextBoxStyle" TargetType="TextBox">
            <Setter Property="FontSize" Value="15" />
            <Setter Property="Padding" Value="12" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{StaticResource BordureClaire}" />
            <Setter Property="Background" Value="White" />
            <Setter Property="Height" Value="45" />
        </Style>

        <!--  Style pour les DatePicker  -->
        <Style x:Key="DatePickerStyle" TargetType="DatePicker">
            <Setter Property="FontSize" Value="15" />
            <Setter Property="Padding" Value="12" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{StaticResource BordureClaire}" />
            <Setter Property="Background" Value="White" />
            <Setter Property="Height" Value="45" />
        </Style>
    </Window.Resources>

    <!--  ══════════════════════════════════════════════════════════  -->
    <!--  CONTENU PRINCIPAL  -->
    <!--  ══════════════════════════════════════════════════════════  -->
    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!--  Titre  -->
            <RowDefinition Height="*" />
            <!--  Formulaire  -->
            <RowDefinition Height="Auto" />
            <!--  Boutons  -->
        </Grid.RowDefinitions>

        <!--  ══════════════════════════════════════════════════════════  -->
        <!--  SECTION 1 : TITRE  -->
        <!--  ══════════════════════════════════════════════════════════  -->
        <StackPanel Grid.Row="0" Margin="0,0,0,25">
            <TextBlock
                FontSize="28"
                FontWeight="Bold"
                Foreground="{StaticResource CouleurPrincipale}">
                <Run Text="💧" />
                <Run Text="Nouveau relevé d'eau" />
            </TextBlock>
            <TextBlock
                Margin="0,8,0,0"
                FontSize="14"
                Foreground="{StaticResource TexteSecondaire}"
                ><Run Text="  "/><Run Language="fr-fr" Text=" "/><Run Text="Saisissez les informations du relevé de compteur"/></TextBlock>
        </StackPanel>

        <!--  ══════════════════════════════════════════════════════════  -->
        <!--  SECTION 2 : FORMULAIRE  -->
        <!--  ══════════════════════════════════════════════════════════  -->
        <Border
            Grid.Row="1"
            Padding="25"
            Background="White"
            CornerRadius="12">
            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="15"
                    Direction="270"
                    Opacity="0.1"
                    ShadowDepth="3"
                    Color="#000000" />
            </Border.Effect>

            <StackPanel>
                <!--  Champ 1 : Date du relevé  -->
                <TextBlock Style="{StaticResource LabelStyle}" Margin="0,0,0,5">
                    <Run Text="📅" />
                    <Run Text="Date du relevé" />
                    <Run Foreground="{StaticResource CouleurErreur}" Text="*" />
                </TextBlock>
                <DatePicker
                    xmlns:system="clr-namespace:System;assembly=mscorlib"
                    x:Name="DatePicker"
                    SelectedDate="{x:Static system:DateTime.Now}"
                    Style="{StaticResource DatePickerStyle}" />

                <!--  Champ 2 : Index eau froide  -->
                <TextBlock Margin="0,0,0,8" Style="{StaticResource LabelStyle}">
                    <Run Text="💧" />
                    <Run Text="Index eau froide (m³)" />
                    <Run Foreground="{StaticResource CouleurErreur}" Text="*" />
                </TextBlock>
                <TextBox
                    x:Name="TxtEauFroide"
                    Style="{StaticResource TextBoxStyle}"
                    Text="0.00" />

                <!--  Champ 3 : Index eau chaude  -->
                <TextBlock Margin="0,20,0,0" Style="{StaticResource LabelStyle}">
                    <Run Text="🔥" />
                    <Run Text="Index eau chaude (m³)" />
                    <Run Foreground="{StaticResource CouleurErreur}" Text="*" />
                </TextBlock>
                <TextBox
                    x:Name="TxtEauChaude"
                    Style="{StaticResource TextBoxStyle}"
                    Text="0.00" />

                <!--  Champ 4 : Notes (optionnel)  -->
                <TextBlock
                    Margin="0,20,0,0"
                    Cursor="Hand"
                    Style="{StaticResource LabelStyle}">
                    <Run Text="📝" />
                    <Run Text="Notes (optionnel)" />
                </TextBlock>
                <TextBox
                    x:Name="TxtNotes"
                    Height="90"
                    Padding="12"
                    AcceptsReturn="True"
                    BorderBrush="{StaticResource BordureClaire}"
                    BorderThickness="1"
                    FontSize="14"
                    TextWrapping="Wrap"
                    VerticalScrollBarVisibility="Auto" />
            </StackPanel>
        </Border>

        <!--  ══════════════════════════════════════════════════════════  -->
        <!--  SECTION 3 : BOUTONS  -->
        <!--  ══════════════════════════════════════════════════════════  -->
        <StackPanel
            Grid.Row="2"
            Margin="0,25,0,0"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <!--  Bouton Valider (Vert)  -->
            <Button
                Height="25"
                Click="BtnValider_Click"
                Cursor="Hand">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Background" Value="{StaticResource CouleurSucces}" />
                        <Setter Property="Foreground" Value="White" />
                        <Setter Property="FontSize" Value="16" />
                        <Setter Property="FontWeight" Value="Bold" />
                        <Setter Property="Padding" Value="35,15" />
                        <Setter Property="Margin" Value="0,0,15,0" />
                        <Setter Property="BorderThickness" Value="0" />
                        <Setter Property="MinWidth" Value="180" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border
                                        x:Name="border"
                                        Background="{TemplateBinding Background}"
                                        CornerRadius="8">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="border" Property="Background" Value="{StaticResource CouleurSuccesFoncee}" />
                                        </Trigger>
                                        <Trigger Property="IsPressed" Value="True">
                                            <Setter TargetName="border" Property="Background" Value="{StaticResource CouleurSuccesSombre}" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
                <StackPanel Orientation="Horizontal" Cursor="Hand" Height="18">
                    <TextBlock
                        Margin="0,0,10,0"
                        VerticalAlignment="Center"
                        FontSize="14"
                        Text="✅" />
                    <TextBlock
                        VerticalAlignment="Center"
                        FontSize="14"
                        Text="Valider" />
                </StackPanel>
            </Button>

            <!--  Bouton Annuler (Gris)  -->
            <Button Click="BtnAnnuler_Click" Cursor="Hand">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Background" Value="{StaticResource Gris400}" />
                        <Setter Property="Foreground" Value="White" />
                        <Setter Property="FontSize" Value="16" />
                        <Setter Property="FontWeight" Value="Bold" />
                        <Setter Property="Padding" Value="35,15" />
                        <Setter Property="BorderThickness" Value="0" />
                        <Setter Property="MinWidth" Value="180" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border
                                        x:Name="border"
                                        Background="{TemplateBinding Background}"
                                        CornerRadius="8">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="border" Property="Background" Value="{StaticResource Gris500}" />
                                        </Trigger>
                                        <Trigger Property="IsPressed" Value="True">
                                            <Setter TargetName="border" Property="Background" Value="{StaticResource Gris600}" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
                <StackPanel Orientation="Horizontal">
                    <TextBlock
                        Margin="0,0,10,0"
                        VerticalAlignment="Center"
                        FontSize="14"
                        Text="❌" Height="18" />
                    <TextBlock
                        VerticalAlignment="Center"
                        FontSize="14"
                        Text="Annuler" Height="18" />
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</Window>
